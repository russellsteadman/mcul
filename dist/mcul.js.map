{"version":3,"file":"mcul.js","sources":["webpack://Molecule/mcul.js"],"sourcesContent":["window.Molecule=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=6)}([function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(1),a=n(5),u=function(){var e={};for(var t in this.children)if(this.children[t].type===o.element[0])e[this.children[t].element]=e[this.children[t].element]||0,e[this.children[t].element]+=this.children[t].count||1;else{var n=this.children[t].counts;for(var r in n)this.children[t].count&&(n[r]*=this.children[t].count),e[r]=(n[r]||0)+(e[r]||0)}return e},c=function(){var e=u.call(this),t=0;for(var n in e)t+=a[Number(n)-1]*e[n];return\"molecule\"===this.type?Math.round(1e3*t)/1e3:t},l=function(e){if(!e||-1===o.all.indexOf(e.type))throw new Error(\"Cannot append invalid item\");this.children.push(e)};e.exports={getCounts:u,getMass:c,append:l,appendAll:function(e){for(var t in e)l.call(this,e[t])},findById:function(e,t){if(!1===t)return e;var n=this.children;for(var r in n){if(n[r].id===t)return n[r];if(\"function\"==typeof n[r].findById){var i=n[r].findById(t);if(i)return i}}return null},getChildIds:function(){var e={};for(var t in this.children)e[this.children[t].id]=this.children[t],this.children[t].childIds&&(e=r({},e,{},this.children[t].childIds));return e},getParent:function(){var e=this.molecule.childIds;for(var t in e)if(e[t].children)for(var n in e[t].children)if(e[t].children[n].id===this.id)return e[t];return this.molecule},getElementFraction:function(e){var t=u.call(this),n=0;for(var r in t)n+=t[r]||0;return(t[e]||0)/n},getMassFraction:function(e){var t=u.call(this);c.call(this);t[e],a[Number(e)-1]}}},function(e,t){var n={subgroup:[\"subgroup\",\"complex\",\"chain\",\"fngroup\"],element:[\"element\"]};n.all=n.subgroup.concat(n.element),e.exports=n},function(e,t,n){\"use strict\";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}e.exports=function(e){var t=\"verbatim\";function n(e,t){return e.context.lastSeen<e.ti&&(e.context.lastSeen=e.ti),Object.assign({},e,t)}this.tokens=[],this.registerToken=function(e,t){this.tokens.push({pattern:e,type:t})},this.lexer=function(e){for(var t=[],n=0;n<e.length;){for(var r=n,i=0;i<this.tokens.length;i++){var o=this.tokens[i];o.pattern.lastIndex=r;var a=o.pattern.exec(e);if(a&&a.index===r){if(n+=a[0].length,\"ignore\"===o.type)break;t.push({start:r,end:n,type:o.type,captures:a.slice(1)});break}}if(n===r)throw new Error(\"Unexpected token at position \"+n+\". Remainder: \"+e.substr(n))}return t};var i=this;function o(e){return\"function\"==typeof e?e:(r=e,function(e){var i=e.context.tokens[e.ti];return i&&i.type===t?i.captures[0]!==r?e:n(e,{ti:e.ti+1}):e});var r}this.parsingFunction=e(function(e,t){return i.registerToken(e,t),function(e){var i=e.context.tokens[e.ti];if(!i||i.type!==t)return e;var o=e.context.stack;return o.splice(e.sp),o.push.apply(o,r(i.captures)),n(e,{ti:e.ti+1,sp:o.length})}},function(){var e=Array.prototype.slice.apply(arguments).map(o);return function(t){for(var n=0,r=t;n<e.length;n++){var i=e[n](r);if(i===r)return t;r=i}return r}},function(){var e=Array.prototype.slice.apply(arguments).map(o);return function(t){for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==t)return r}return t}},function(e){return e=o(e),function(t){var n,r;for(n=t;(r=e(n))!==n;n=r);return n}},function(e){return e=o(e),function(t){var n=e(t);return n!==t?n:Object.assign({},t)}},function(e,t){return e=o(e),function(n){var r=e(n);if(r===n)return n;var i=n.context.stack;return i.push(t(i.splice(n.sp),n,r)),Object.assign({},r,{sp:i.length})}}),this.parse=function(e){var t={text:e,tokens:this.lexer(e),stack:[],lastSeen:-1},n={ti:0,sp:0,context:t},r=this.parsingFunction(n);if(r.ti<t.tokens.length){var i=new Error(\"Parsing failed\");throw i.context=t,i}return t.stack[0]}}},function(e,t){e.exports=function(e){return function(e){return e(e)}(function(t){return e(function(){return t(t).apply(null,arguments)})})}},function(e){e.exports=[\"H\",\"He\",\"Li\",\"Be\",\"B\",\"C\",\"N\",\"O\",\"F\",\"Ne\",\"Na\",\"Mg\",\"Al\",\"Si\",\"P\",\"S\",\"Cl\",\"Ar\",\"K\",\"Ca\",\"Sc\",\"Ti\",\"V\",\"Cr\",\"Mn\",\"Fe\",\"Co\",\"Ni\",\"Cu\",\"Zn\",\"Ga\",\"Ge\",\"As\",\"Se\",\"Br\",\"Kr\",\"Rb\",\"Sr\",\"Y\",\"Zr\",\"Nb\",\"Mo\",\"Tc\",\"Ru\",\"Rh\",\"Pd\",\"Ag\",\"Cd\",\"In\",\"Sn\",\"Sb\",\"Te\",\"I\",\"Xe\",\"Cs\",\"Ba\",\"La\",\"Ce\",\"Pr\",\"Nd\",\"Pm\",\"Sm\",\"Eu\",\"Gd\",\"Tb\",\"Dy\",\"Ho\",\"Er\",\"Tm\",\"Yb\",\"Lu\",\"Hf\",\"Ta\",\"W\",\"Re\",\"Os\",\"Ir\",\"Pt\",\"Au\",\"Hg\",\"Tl\",\"Pb\",\"Bi\",\"Po\",\"At\",\"Rn\",\"Fr\",\"Ra\",\"Ac\",\"Th\",\"Pa\",\"U\",\"Np\",\"Pu\",\"Am\",\"Cm\",\"Bk\",\"Cf\",\"Es\",\"Fm\",\"Md\",\"No\",\"Lr\",\"Rf\",\"Db\",\"Sg\",\"Bh\",\"Hs\",\"Mt\"]},function(e){e.exports=[1.008,4.0026,7,9.012183,10.81,12.011,14.007,15.999,18.99840316,20.18,22.9897693,24.305,26.981538,28.085,30.973762,32.07,35.45,39.9,39.098,40.08,44.95591,47.87,50.941,51.996,54.93804,55.84,58.93319,58.693,63.55,65.4,69.72,72.63,74.92159,78.97,79.9,83.8,85.468,87.6,88.9058,91.22,92.9064,96,97.90721,101.1,102.9055,106.4,107.868,112.41,114.82,118.71,121.76,127.6,126.9045,131.29,132.905452,137.33,138.9055,140.12,140.9077,144.24,144.91276,150.4,151.96,157.2,158.92535,162.5,164.93033,167.26,168.93422,173.04,174.967,178.5,180.9479,183.8,186.21,190.2,192.22,195.08,196.96657,200.59,204.383,207,208.9804,208.98243,209.98715,222.01758,223.01973,226.02541,227.02775,232.038,231.0359,238.0289,237.04817,244.0642,243.06138,247.07035,247.07031,251.07959,252.083,257.09511,258.09843,259.101,262.11,267.122,268.126,271.134,274.144,277.152,278.156,281.165,282.169,285.177,286.183,289.191,290.196,293.205,294.211,294.214]},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=t.get(e);if(!n)throw new TypeError(\"attempted to get private field on non-instance\");return n.get?n.get.call(e):n.value}var a=n(7),u=new WeakMap;e.exports=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),u.set(this,{writable:!0,value:{parsers:{},defaultFormat:\"basic\"}}),i(this,\"create\",function(e){return new a(r({},e,{parsers:o(t,u).parsers,parent:t}))}),i(this,\"createFromText\",function(e,n,i){return n||(n=o(t,u).defaultFormat),new a(r({},i,{parsers:o(t,u).parsers,rawText:e,format:n,parent:t}))}),i(this,\"setDefaultFormat\",function(e){o(t,u).defaultFormat=e}),i(this,\"addParser\",function(e,n){if(\"function\"!=typeof e&&\"string\"!=typeof n)throw new Error(\"Parser and format must be specified.\");o(t,u).parsers[n]=e})}},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=t.get(e);if(!n)throw new TypeError(\"attempted to get private field on non-instance\");return n.get?n.get.call(e):n.value}var c=n(8),l=n(10),s=n(14),f=n(16),p=n(0),d=n(1),h=\"0.1.0\",m=function(){function e(t){var n=this,o=t.rawText,m=t.format,g=t.parent,v=i(t,[\"rawText\",\"format\",\"parent\"]);for(var O in function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),b.set(this,{writable:!0,value:{type:\"molecule\",children:[],idIndex:0,formats:[\"basic\",\"iupac\"],bonds:{}}}),y.set(this,{writable:!0,value:function(){return u(n,b).idIndex+=1,u(n,b).idIndex.toString(36)}}),a(this,\"findById\",p.findById.bind(u(this,b),this)),a(this,\"serialize\",function(){var e=Array.prototype.slice.call(u(n,b).children);for(var t in e)\"function\"==typeof e[t].serialize&&(e[t]=e[t].serialize());return r({type:\"molecule\",version:h,children:e,bonds:u(n,b).bonds,idIndex:u(n,b).idIndex},u(n,b).rawText?{fromText:u(n,b).rawText}:{})}),a(this,\"unserialize\",function(e){if(e.version.split(\".\")[0]!==h.split(\".\")[0])throw new Error(\"Incompatible version\");for(var t in u(n,b).idIndex=e.idIndex,u(n,b).rawText=e.fromText,u(n,b).bonds=e.bonds,e.children)if(e.children[t].type===d.element[0]){var i=r({},e.children[t]);delete i.type,delete i.element;var o=n.createElement(e.children[t].element,i);n.append(o)}else if(-1!==d.subgroup.indexOf(e.children[t].type)){var a=r({},e.children[t]);delete a.children,delete a.type;var c=n.createSubgroup([],a);c.unserialize(e.children[t].children||[]),n.append(c)}}),a(this,\"createElement\",function(e,t){return new s(e,r({},t,{molecule:n,id:u(n,y).call(n)}))}),a(this,\"createElements\",function(e,t){var r=t.count,i=t.bond;r=r||1,delete t.count,delete t.bond;for(var o=[],a=0;a<r;a+=1)o.push(n.createElement(e,t)),i&&0!==a&&n.createBond(o[a],o[a-1],i);return o}),a(this,\"createSubgroup\",function(e,t){return new f(e,r({},t,{molecule:n,id:u(n,y).call(n)}))}),a(this,\"createSubgroups\",function(e){var t=e.count;t=t||1,delete e.count;for(var r=[],i=0;i<t;i+=1)r.push(n.createSubgroup([],e));return r}),a(this,\"createBond\",function(e,t,i){if(!e||!t)throw new Error(\"Missing bonding elements\");var o=(e.id||e)+\"-\"+(t.id||t),a=(t.id||t)+\"-\"+(e.id||e);i=r({bondCount:1},i),u(n,b).bonds[o]=i,u(n,b).bonds[a]=o}),a(this,\"removeBond\",function(e,t){var r=(e.id||e)+\"-\"+(t.id||t),i=(t.id||t)+\"-\"+(e.id||e);delete u(n,b).bonds[r],delete u(n,b).bonds[i]}),a(this,\"getBond\",function(e,t){var r=(e.id||e)+\"-\"+(t.id||t);return u(n,b).bonds[r]?\"string\"==typeof u(n,b).bonds[r]?u(n,b).bonds[u(n,b).bonds[r]]:u(n,b).bonds[r]:null}),a(this,\"getBonds\",function(e){var t=e.id||e,r=[];for(var i in u(n,b).bonds)i.split(\"-\")[0]===t&&r.push(i);return r}),a(this,\"append\",p.append.bind(u(this,b))),a(this,\"appendAll\",p.appendAll.bind(u(this,b))),a(this,\"getElementFraction\",p.getElementFraction.bind(u(this,b))),a(this,\"getMassFraction\",p.getMassFraction.bind(u(this,b))),a(this,\"parse\",function(){var e=u(n,b),t=e.rawText,r=e.format;if(r===u(n,b).formats[0])u(n,b).children=c.call(n,t);else if(r===u(n,b).formats[1])l.call(n,t);else{if(\"function\"!=typeof u(n,b).options.parsers[r])throw new Error('Cannot parse type \"'.concat(r,'\".'));u(n,b).children=u(n,b).options.parsers[r].call(n,t)}}),v.parsers)u(this,b).formats.push(O);var w=\"string\"==typeof o;if(w&&-1===u(this,b).formats.indexOf(m))throw new Error(\"Text to parse and format must be specified.\");!function(e,t,n){var r=t.get(e);if(!r)throw new TypeError(\"attempted to set private field on non-instance\");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError(\"attempted to set read only private field\");r.value=n}}(this,b,r({},u(this,b),{},{rawText:o,format:m,parent:g,options:r({},{},{},v)})),w&&this.parse()}var t,n,m;return t=e,(n=[{key:\"children\",get:function(){return Array.prototype.slice.call(u(this,b).children)}},{key:\"type\",get:function(){return u(this,b).type}},{key:\"version\",get:function(){return h}},{key:\"mass\",get:function(){return p.getMass.call(u(this,b))}},{key:\"counts\",get:function(){return p.getCounts.call(u(this,b))}},{key:\"childIds\",get:function(){return p.getChildIds.call(u(this,b))}}])&&o(t.prototype,n),m&&o(t,m),e}(),b=new WeakMap,y=new WeakMap;e.exports=m},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var a=n(2),u=n(3),c=n(9);e.exports=function(e){return new a(function(e,t,n,i,a,l){var s=this;return u(function(u){e(/\\s+/g,\"ignore\"),e(/([()\\][^_])/g,\"verbatim\");var f=e(/([A-Z][a-z]*)/g,\"element\"),p=e(/([0-9]+)/g,\"count\"),d=e(/([+-]?[0-9]+)/g,\"charge\"),h=l(t(\"^\",d),function(e){return Number(e)&&0!==Number(e)?{charge:Number(e)}:{}}),m=l(t(p),function(e){return Number(e)&&1!==Number(e)?{count:Number(e)}:{}}),b=l(n(t(a(\"_\"),m,h),t(h,\"_\",m),h,t(a(\"_\"),m)),function(e){return e||[]}),y=l(t(\"(\",u,\")\",a(b)),function(e){var t=o(e,2),n=t[0],i=t[1],a={};for(var u in i=i||[])a=r({},a,{},i[u]);return s.createSubgroup(n,a)}),g=l(t(\"[\",u,\"]\",a(b)),function(e){var t=o(e,2),n=t[0],i=t[1],a={type:\"complex\"};for(var u in i=i||[])a=r({},a,{},i[u]);return s.createSubgroup(n,a)}),v=l(t(f,a(b)),function(e){var t=o(e,2),n=t[0],i=t[1],a={};for(var u in i=i||[])a=r({},a,{},i[u]);return s.createElement(c(n),a)});return l(i(n(v,y,g)),function(e){return e})})}.bind(this)).parse(e)}},function(e,t,n){var r=n(4),i={};for(var o in r)i[r[o]]=Number(o)+1;e.exports=function(e){if(i.hasOwnProperty(e))return i[e];throw new Error('Unable to resolve \"'.concat(e,'\" to an atomic number.'))}},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var a=n(2),u=n(3),c=n(11),l=n(12),s=n(13);e.exports=function(e){return new a(function(e,t,n,i,a,f){var p=this;return u(function(u){e(/\\s+/g,\"ignore\"),e(/([(),-])/g,\"verbatim\");var d=f(e(new RegExp(\"(\".concat(c.join(\"|\"),\")(?!yl)\"),\"g\"),\"prefix\"),function(e){var t=o(e,1)[0];return{prefix:Number(c.indexOf(t))+1}}),h=f(e(/(ane?|ene?|yne?)/g,\"bondCount\"),function(e){var t=o(e,1)[0];return{bondCount:\"a\"===t[0]?1:\"e\"===t[0]?2:3}}),m=f(e(/(cyclo)/g,\"cyclic\"),function(){return{cyclic:!0}}),b=f(e(/(\\sacid)/g,\"acid\"),function(){return{acid:!0}}),y=f(e(/([0-9]+)/g,\"location\"),function(e){return o(e,1)[0]}),g=f(e(new RegExp(\"(\".concat(Object.keys(l).filter(function(e){return!!l[e].pre}).join(\"|\"),\")\"),\"g\"),\"prefn\"),function(e){return{fn:o(e,1)[0]}}),v=f(e(new RegExp(\"(\".concat(Object.keys(l).filter(function(e){return!l[e].pre}).join(\"|\"),\")\"),\"g\"),\"postfn\"),function(e){return{fn:o(e,1)[0]}}),O=f(e(new RegExp(\"(\".concat(s.join(\"|\"),\")\"),\"g\"),\"greekCount\"),function(e){var t=o(e,1)[0];return{count:Number(s.indexOf(t))+1}}),w=f(t(a(\"-\"),y,a(i(t(\",\",y))),a(\",\"),\"-\"),function(e){for(var t in e)e[t]=Number(e[t]);return{location:e}}),x=function(e){var t={type:\"fngroup\",location:[]};for(var n in e)e[n].hasOwnProperty(\"location\")?t.location=t.location.concat(e[n].location):t=r({},t,{},e[n]);for(;t.location.length<(t.count||1);)t.location.push(-1);var i=[];for(var o in t.location)i.push(r({},t,{location:t.location[o],count:1}));return{fngroups:i}},j=f(t(a(w),a(O),g),x),P=f(t(a(w),a(O),v),x),k=f(t(a(i(j)),a(w),a(m),d,a(w),h,a(i(P)),a(b)),function(e){var t={location:[],children:[]};for(var n in e)e[n].hasOwnProperty(\"fngroups\")?t.children=t.children.concat(e[n].fngroups):t=r({},t,{},e[n]);var i=p.createElements(6,{count:t.prefix,chain:!0,bond:{bondCount:1}}),o=[];for(var a in i)o.push(i[a].id);var u=i.slice(),c=[];for(var s in t.children){var f=t.children[s].location;delete t.children[s].location;var d=p.createSubgroup([],t.children[s]);if(d.unserialize(l[t.children[s].fn].members),-1===f)c.push(d);else for(var h in d.children){var m=(l[t.children[s].fn].bonds||[])[h]||{};p.createBond(o[f-1],d.children[h].id,m)}u.push(d)}delete t.children;var b=p.createSubgroup(u,r({type:\"chain\"},t));for(var y in 1===t.bondCount||0!==t.location.length||2!==t.prefix&&3!==t.prefix||t.location.push(1),t.location)p.createBond(o[t.location[y]],o[t.location[y]-1],{bondCount:t.bondCount||1});for(var g in p.append(b),i){if(!c[0])break;var v=0,O=p.getBonds(i[g]);for(var w in O)v+=p.getBond(i[g],O[w].split(\"-\")[1]).bondCount;for(var x=v;x<4&&c[0];x+=1){for(var j in c[0].children){var P=(l[c[0].functionalGroup].bonds||[])[j]||{};p.createBond(i[g],c[0].children[j],P)}c=c.slice(1)}}var k=p.childIds;for(var S in k)if(6===k[S].element){var E=0,T=p.getBonds(k[S]);for(var C in T)E+=p.getBond(S,T[C].split(\"-\")[1]).bondCount;for(var I=E;I<4;I+=1){var N=p.createElement(1);k[S].parent.append(N),p.createBond(k[S],N)}}return b});return f(i(n(k)),function(e){return e})})}.bind(this)).parse(e)}},function(e){e.exports=[\"meth\",\"eth\",\"prop\",\"but\",\"pent\",\"hex\",\"hept\",\"oct\",\"non\",\"dec\",\"undec\",\"dodec\",\"tridec\",\"tetradec\",\"pentadec\",\"hexadec\",\"heptadec\",\"octadec\",\"nonadec\",\"icosn\"]},function(e){e.exports={fluoro:{members:[{type:\"element\",element:9}],pre:!0},chloro:{members:[{type:\"element\",element:17}],pre:!0},bromo:{members:[{type:\"element\",element:35}],pre:!0},iodo:{members:[{type:\"element\",element:53}],pre:!0},ol:{members:[{element:8,type:\"element\"},{element:1,type:\"element\"}],pre:!1},hydroxy:{members:[{element:8,type:\"element\"},{element:1,type:\"element\"}],pre:!0},one:{members:[{element:8,type:\"element\"}],bondCount:2,pre:!1},oxo:{members:[{element:8,type:\"element\"}],bondCount:2,pre:!0},methyl:{members:[{element:6,type:\"element\"}],pre:!0}}},function(e){e.exports=[\"mono\",\"di\",\"tri\",\"tetra\",\"penta\",\"hexa\",\"hepta\",\"octa\",\"ennea\",\"deca\",\"hendeca\",\"dodeca\",\"triskaideca\",\"tetrakaideca\",\"pentakaideca\",\"hexakaideca\",\"heptakaideca\",\"octakaideca\",\"enneakaideca\",\"icosa\"]},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=t.get(e);if(!n)throw new TypeError(\"attempted to get private field on non-instance\");return n.get?n.get.call(e):n.value}var c=n(4),l=n(15),s=n(5),f=n(0),p=function(){function e(t,n){var o=this,c=n.count,l=n.charge,s=n.id,f=n.molecule,p=i(n,[\"count\",\"charge\",\"id\",\"molecule\"]);!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),d.set(this,{writable:!0,value:{el:1,id:\"\",molecule:null,meta:{count:1,charge:0}}}),a(this,\"serialize\",function(){var e=r({},u(o,d).meta);return 0===e.charge&&delete e.charge,1===e.count&&delete e.count,r({type:\"element\",element:u(o,d).el,id:u(o,d).id},0===Object.keys(e).length?{}:e)}),a(this,\"type\",\"element\"),a(this,\"set\",function(e,t){(\"count\"!==e||!isNaN(t)&&Number.isInteger(t)&&0!==t)&&(\"charge\"!==e||!isNaN(t)&&Number.isInteger(t))&&(u(o,d).meta=r({},u(o,d).meta,a({},e,t)))}),u(this,d).el=Number(t),this.set(\"count\",c),this.set(\"charge\",l),u(this,d).id=s,u(this,d).molecule=f,u(this,d).meta=r({},u(this,d).meta,{},p)}var t,n,p;return t=e,(n=[{key:\"element\",get:function(){return u(this,d).el}},{key:\"symbol\",get:function(){return c[u(this,d).el-1]}},{key:\"name\",get:function(){return l[u(this,d).el-1]}},{key:\"mass\",get:function(){return s[u(this,d).el-1]*u(this,d).meta.count}},{key:\"count\",get:function(){return u(this,d).meta.count}},{key:\"charge\",get:function(){return u(this,d).meta.charge}},{key:\"parent\",get:function(){return f.getParent.call(u(this,d))}},{key:\"id\",get:function(){return u(this,d).id}}])&&o(t.prototype,n),p&&o(t,p),e}(),d=new WeakMap;e.exports=p},function(e){e.exports=[\"Hydrogen\",\"Helium\",\"Lithium\",\"Beryllium\",\"Boron\",\"Carbon\",\"Nitrogen\",\"Oxygen\",\"Fluorine\",\"Neon\",\"Sodium\",\"Magnesium\",\"Aluminum\",\"Silicon\",\"Phosphorus\",\"Sulfur\",\"Chlorine\",\"Argon\",\"Potassium\",\"Calcium\",\"Scandium\",\"Titanium\",\"Vanadium\",\"Chromium\",\"Manganese\",\"Iron\",\"Cobalt\",\"Nickel\",\"Copper\",\"Zinc\",\"Gallium\",\"Germanium\",\"Arsenic\",\"Selenium\",\"Bromine\",\"Krypton\",\"Rubidium\",\"Strontium\",\"Yttrium\",\"Zirconium\",\"Niobium\",\"Molybdenum\",\"Technetium\",\"Ruthenium\",\"Rhodium\",\"Palladium\",\"Silver\",\"Cadmium\",\"Indium\",\"Tin\",\"Antimony\",\"Tellurium\",\"Iodine\",\"Xenon\",\"Cesium\",\"Barium\",\"Lanthanum\",\"Cerium\",\"Praseodymium\",\"Neodymium\",\"Promethium\",\"Samarium\",\"Europium\",\"Gadolinium\",\"Terbium\",\"Dysprosium\",\"Holmium\",\"Erbium\",\"Thulium\",\"Ytterbium\",\"Lutetium\",\"Hafnium\",\"Tantalum\",\"Tungsten\",\"Rhenium\",\"Osmium\",\"Iridium\",\"Platinum\",\"Gold\",\"Mercury\",\"Thallium\",\"Lead\",\"Bismuth\",\"Polonium\",\"Astatine\",\"Radon\",\"Francium\",\"Radium\",\"Actinium\",\"Thorium\",\"Protactinium\",\"Uranium\",\"Neptunium\",\"Plutonium\",\"Americium\",\"Curium\",\"Berkelium\",\"Californium\",\"Einsteinium\",\"Fermium\",\"Mendelevium\",\"Nobelium\",\"Lawrencium\",\"Rutherfordium\",\"Dubnium\",\"Seaborgium\",\"Bohrium\",\"Hassium\",\"Meitnerium\"]},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=t.get(e);if(!n)throw new TypeError(\"attempted to get private field on non-instance\");return n.get?n.get.call(e):n.value}var c=n(0),l=n(1),s=function(){function e(t,n){var o=this,s=n.type,p=n.count,d=n.charge,h=n.id,m=n.molecule,b=i(n,[\"type\",\"count\",\"charge\",\"id\",\"molecule\"]);for(var y in function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),f.set(this,{writable:!0,value:{children:[],type:\"subgroup\",id:\"\",meta:{count:1,charge:0}}}),a(this,\"findById\",c.findById.bind(u(this,f),this)),a(this,\"serialize\",function(){var e=Array.prototype.slice.call(u(o,f).children),t=r({},u(o,f).meta);for(var n in e)\"function\"==typeof e[n].serialize&&(e[n]=e[n].serialize());return 0===t.charge&&delete t.charge,1===t.count&&delete t.count,r({type:u(o,f).type,children:e,id:u(o,f).id},0===Object.keys(t).length?{}:t)}),a(this,\"unserialize\",function(e){for(var t in e)if(\"element\"===e[t].type){var n=r({},e[t]);delete n.type,delete n.element;var i=u(o,f).molecule.createElement(e[t].element,n);o.append(i)}else if(-1!==l.subgroup.indexOf(e[t].type)){var a=r({},e[t]);delete a.children,delete a.type;var c=u(o,f).molecule.createSubgroup([],a);c.unserialize(e[t].children||[]),o.append(c)}}),a(this,\"setType\",function(e){if(-1!==l.subgroup.indexOf(e))u(o,f).type=e;else if(e)throw new Error(\"Invalid subgroup type: \".concat(e))}),a(this,\"set\",function(e,t){(\"count\"!==e||!isNaN(t)&&Number.isInteger(t)&&0!==t)&&(\"charge\"!==e||!isNaN(t)&&Number.isInteger(t))&&(u(o,f).meta=r({},u(o,f).meta,a({},e,t)))}),a(this,\"append\",c.append.bind(u(this,f))),a(this,\"appendAll\",c.appendAll.bind(u(this,f))),this.setType(s),u(this,f).id=h,u(this,f).molecule=m,this.set(\"count\",p),this.set(\"charge\",d),b)this.set(y,b[y]);for(var g in t)Array.isArray(t[g])?u(this,f).children=u(this,f).children.concat(t[g]):u(this,f).children.push(t[g])}var t,n,s;return t=e,(n=[{key:\"id\",get:function(){return u(this,f).id}},{key:\"type\",get:function(){return u(this,f).type}},{key:\"children\",get:function(){return Array.prototype.slice.call(u(this,f).children)}},{key:\"childIds\",get:function(){return c.getChildIds.call(u(this,f))}},{key:\"counts\",get:function(){return c.getCounts.call(u(this,f))}},{key:\"count\",get:function(){return u(this,f).meta.count}},{key:\"charge\",get:function(){return u(this,f).meta.charge}},{key:\"functionalGroup\",get:function(){return u(this,f).meta.fn}},{key:\"mass\",get:function(){return c.getMass.call(u(this,f))}},{key:\"parent\",get:function(){return c.getParent.call(u(this,f))}}])&&o(t.prototype,n),s&&o(t,s),e}(),f=new WeakMap;e.exports=s}]);"],"mappings":"AAAA","sourceRoot":""}