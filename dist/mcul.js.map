{"version":3,"file":"mcul.js","sources":["webpack://mcul/mcul.js"],"sourcesContent":["window.mcul=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Molecule\",(function(){return O})),n.d(e,\"Atom\",(function(){return l}));var r=[1.008,4.003,7,9.012,10.81,12.011,14.007,15.999,18.998,20.18,22.99,24.305,26.982,28.085,30.974,32.07,35.45,39.9,39.098,40.08,44.956,47.87,50.941,51.996,54.938,55.84,58.933,58.693,63.55,65.4,69.72,72.63,74.922,78.97,79.9,83.8,85.468,87.6,88.906,91.22,92.906,96,97.907,101.1,102.906,106.4,107.868,112.41,114.82,118.71,121.76,127.6,126.905,131.29,132.905,137.33,138.906,140.12,140.908,144.24,144.913,150.4,151.96,157.2,158.925,162.5,164.93,167.26,168.934,173.04,174.967,178.5,180.948,183.8,186.21,190.2,192.22,195.08,196.967,200.59,204.383,207,208.98,208.982,209.987,222.018,223.02,226.025,227.028,232.038,231.036,238.029,237.048,244.064,243.061,247.07,247.07,251.08,252.083,257.095,258.098,259.101,262.11,267.122,268.126,271.134,274.144,277.152,278.156,281.165,282.169,285.177,286.183,289.191,290.196,293.205,294.211,294.214],o=[\"H\",\"He\",\"Li\",\"Be\",\"B\",\"C\",\"N\",\"O\",\"F\",\"Ne\",\"Na\",\"Mg\",\"Al\",\"Si\",\"P\",\"S\",\"Cl\",\"Ar\",\"K\",\"Ca\",\"Sc\",\"Ti\",\"V\",\"Cr\",\"Mn\",\"Fe\",\"Co\",\"Ni\",\"Cu\",\"Zn\",\"Ga\",\"Ge\",\"As\",\"Se\",\"Br\",\"Kr\",\"Rb\",\"Sr\",\"Y\",\"Zr\",\"Nb\",\"Mo\",\"Tc\",\"Ru\",\"Rh\",\"Pd\",\"Ag\",\"Cd\",\"In\",\"Sn\",\"Sb\",\"Te\",\"I\",\"Xe\",\"Cs\",\"Ba\",\"La\",\"Ce\",\"Pr\",\"Nd\",\"Pm\",\"Sm\",\"Eu\",\"Gd\",\"Tb\",\"Dy\",\"Ho\",\"Er\",\"Tm\",\"Yb\",\"Lu\",\"Hf\",\"Ta\",\"W\",\"Re\",\"Os\",\"Ir\",\"Pt\",\"Au\",\"Hg\",\"Tl\",\"Pb\",\"Bi\",\"Po\",\"At\",\"Rn\",\"Fr\",\"Ra\",\"Ac\",\"Th\",\"Pa\",\"U\",\"Np\",\"Pu\",\"Am\",\"Cm\",\"Bk\",\"Cf\",\"Es\",\"Fm\",\"Md\",\"No\",\"Lr\",\"Rf\",\"Db\",\"Sg\",\"Bh\",\"Hs\",\"Mt\"],i=[\"Hydrogen\",\"Helium\",\"Lithium\",\"Beryllium\",\"Boron\",\"Carbon\",\"Nitrogen\",\"Oxygen\",\"Fluorine\",\"Neon\",\"Sodium\",\"Magnesium\",\"Aluminum\",\"Silicon\",\"Phosphorus\",\"Sulfur\",\"Chlorine\",\"Argon\",\"Potassium\",\"Calcium\",\"Scandium\",\"Titanium\",\"Vanadium\",\"Chromium\",\"Manganese\",\"Iron\",\"Cobalt\",\"Nickel\",\"Copper\",\"Zinc\",\"Gallium\",\"Germanium\",\"Arsenic\",\"Selenium\",\"Bromine\",\"Krypton\",\"Rubidium\",\"Strontium\",\"Yttrium\",\"Zirconium\",\"Niobium\",\"Molybdenum\",\"Technetium\",\"Ruthenium\",\"Rhodium\",\"Palladium\",\"Silver\",\"Cadmium\",\"Indium\",\"Tin\",\"Antimony\",\"Tellurium\",\"Iodine\",\"Xenon\",\"Cesium\",\"Barium\",\"Lanthanum\",\"Cerium\",\"Praseodymium\",\"Neodymium\",\"Promethium\",\"Samarium\",\"Europium\",\"Gadolinium\",\"Terbium\",\"Dysprosium\",\"Holmium\",\"Erbium\",\"Thulium\",\"Ytterbium\",\"Lutetium\",\"Hafnium\",\"Tantalum\",\"Tungsten\",\"Rhenium\",\"Osmium\",\"Iridium\",\"Platinum\",\"Gold\",\"Mercury\",\"Thallium\",\"Lead\",\"Bismuth\",\"Polonium\",\"Astatine\",\"Radon\",\"Francium\",\"Radium\",\"Actinium\",\"Thorium\",\"Protactinium\",\"Uranium\",\"Neptunium\",\"Plutonium\",\"Americium\",\"Curium\",\"Berkelium\",\"Californium\",\"Einsteinium\",\"Fermium\",\"Mendelevium\",\"Nobelium\",\"Lawrencium\",\"Rutherfordium\",\"Dubnium\",\"Seaborgium\",\"Bohrium\",\"Hassium\",\"Meitnerium\"];function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(){function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),c(this,\"in\",(function(t){if(!t||\"molecule\"!==t.type)throw new Error(\"Must pass in a Molecule instance\");return i.s.p=t,i.s.id=t.s.i.toString(36),t.s.i+=1,t.s.a[i.s.id]=i.s.a,i})),c(this,\"clone\",(function(){var e=new t;return e.s.a=i.s.a,e})),this.s={a:{el:e?\"string\"==typeof e?o.indexOf(e)+1:e:0},p:n,id:r},this.type=\"atom\"}var e,n,a;return e=t,(n=[{key:\"symbol\",set:function(t){this.atomic=o.indexOf(t)+1},get:function(){return o[this.s.a.el-1]||\"\"}},{key:\"atomic\",set:function(t){this.s.a.el=t,this.s.p&&this.s.id&&(this.s.p.s.a[this.s.id]=s({},this.s.p.s.a[this.s.id],{el:t}))},get:function(){return this.s.a.el}},{key:\"charge\",set:function(t){if(\"number\"!=typeof t)throw new Error(\"Charge must be an integer\");this.s.a.c=t||0,this.s.p&&this.s.id&&(this.s.p.s.a[this.s.id]=s({},this.s.p.s.a[this.s.id],{c:t}))},get:function(){return this.s.a.c||0}},{key:\"name\",get:function(){return i[this.s.a.el-1]||\"\"}},{key:\"mass\",get:function(){return r[this.s.a.el-1]||0}}])&&u(e.prototype,n),a&&u(e,a),t}(),f=[\"methyl\",\"ethyl\",\"propyl\",\"butyl\",\"pentyl\",\"hexyl\",\"heptyl\",\"octyl\",\"nonyl\",\"decyl\",\"undecyl\",\"dodecyl\"],m=f.slice(2).map((function(t){return\"iso\".concat(t)})),h=[\"fluoro\",\"chloro\",\"bromo\",\"iodo\"],b=function(t,e,n){if(-1!==f.indexOf(t)){var r=this.chainCarbons(f.indexOf(t)+1);for(var o in this.bond(r[0],e),r)this.hydrogenateCarbon(r[o])}else if(-1!==m.indexOf(t)){var i=this.chainCarbons(f.indexOf(t)+1),a=this.createAtoms(\"C\",2);for(var s in this.bond(i[i.length-1],a[0]).bond(i[i.length-1],a[1]).bond(i[0],e),i)this.hydrogenateCarbon(i[s]);for(var u in a)this.hydrogenateCarbon(a[u])}else if(\"s-butyl\"===t||\"sec-butyl\"===t){var c=this.chainCarbons(3),l=this.createAtom(\"C\");for(var b in this.bond(c[1],l).bond(c[0],e),c)this.hydrogenateCarbon(c[b]);this.hydrogenateCarbon(l)}else if(\"t-butyl\"===t||\"tert-butyl\"===t){var d=this.chainCarbons(2),y=this.createAtoms(\"C\",2);for(var p in this.bond(d[1],y[0]).bond(d[1],y[1]).bond(d[0],e),d)this.hydrogenateCarbon(d[p]);for(var g in y)this.hydrogenateCarbon(y[g])}else if(\"benzene\"===t){for(var v=this.chainCarbons(6,1),O=0;O<6;O+=2)this.modifyBond(v[O],v[O+1],{count:2});for(var A in this.bond(v[0],v[5]).bond(v[0],e),v)this.hydrogenateCarbon(v[A])}else if(\"amine\"===t){var C=this.createAtom(\"N\"),w=this.createAtoms(\"H\",2);this.bond(e,C).bond(C,w[0]).bond(C,w[1])}else if(-1!==h.indexOf(t))this.bond(this.createAtom([\"F\",\"Cl\",\"Br\",\"I\"][h.indexOf(t)]),e);else if(\"hydroxyl\"===t){var P=this.createAtom(\"O\");this.bond(P,this.createAtom(\"H\")).bond(P,e)}else if(\"carbonyl\"===t){var S=this.createAtom(\"O\");this.bond(S,e,{count:2})}else if(\"aldehyde\"===t){var j=this.createAtom(\"O\");this.bond(j,e,{count:2}),this.getBondCount(e)<4&&this.bond(e,this.createAtom(\"H\"))}else if(\"carbonate\"===t){if(!n)throw new Error(\"Must provide a second R group for a carbonate\");var B=this.createAtoms(\"O\",3),E=this.createAtom(\"C\");this.bond(B[0],E,{count:2}).bond(B[1],E).bond(B[2],E),this.bond(e,B[1]).bond(n,B[2]).bond(E,this.createAtom(\"H\"))}else if(\"carboxylate\"===t){var M=this.createAtoms(\"O\",2);M[0].charge=-1,this.bond(M[1],e,{count:2}).bond(M[0],e)}else if(\"carboxyl\"===t){var N=this.createAtoms(\"O\",2);this.bond(N[1],e,{count:2}).bond(N[0],e).bond(N[0],this.createAtom(\"H\"))}else{if(\"carboalkoxy\"!==t)throw new Error('Unable to resolve functional group \"'.concat(t,'\"'));if(!n)throw new Error(\"Must provide a second R group for an ester\");var T=this.createAtoms(\"O\",2);this.bond(T[1],e,{count:2}).bond(T[0],e).bond(T[0],this.createAtom(\"H\"))}};function d(t){return(d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),v(this,\"createAtom\",(function(t){var n=e.s.i.toString(36);e.s.i+=1;var r=new l(t,e,n);return e.s.a[n]=r.s.a,r})),v(this,\"createAtoms\",(function(t,n){var r=[];if(\"number\"!=typeof n||n<1)throw new Error(\"Count must be a positive number\");for(var o=0;o<n;o++){var i=e.s.i.toString(36);e.s.i+=1,r.push(new l(t,e,i)),e.s.a[i]=r[o].s.a}return r})),v(this,\"contains\",(function(t){if(t&&\"atom\"===t.type)return t.in(e);throw new Error(\"Must pass an atom\")})),v(this,\"getAtomById\",(function(t){if(t&&\"atom\"===t.type)return t;var n=new l(null,e,t);return n.s.a=e.s.a[t]||{},n})),v(this,\"getAtomId\",(function(t){if(\"string\"==typeof t)return t;if(\"string\"!=typeof(t=t&&t.s&&t.s.id))throw new Error(\"Not an atom\");return t})),v(this,\"getAtomsByElement\",(function(t){t=t?\"string\"==typeof t?o.indexOf(t)+1:t:0;var n=[];for(var r in e.s.a)e.s.a[r].el===t&&n.push(e.getAtomById(r));return n})),v(this,\"getBondedAtoms\",(function(t){var n=e.getAtomId(t),r=[];for(var o in e.s.b)o.split(\"-\")[0]===n&&r.push(e.getAtomById(o.split(\"-\")[1]));return r})),v(this,\"getBondCount\",(function(t){var n,r=e.getAtomId(t),o=0;for(var i in e.s.b)(n=e.s.b[i])||(n=e.s.b[\"\".concat(i.split(\"-\")[1],\"-\").concat(i.split(\"-\")[0])]),i.split(\"-\")[0]===r&&(o+=n.count||1);return o})),v(this,\"getBranchPaths\",(function(t,n,r){var o=e.getAtomId(t),i=n?\"-\".concat(o):o,a=[],s=!0;if(o!==r)for(var u in r||(r=o),e.s.b)u.split(\"-\")[0]===o&&u.split(\"-\")[1]!==n&&(s=!1,a=e.getBranchPaths(u.split(\"-\")[1],o,r).concat(a));if(s)a.push(i);else for(var c in a)a[c]=i+a[c];return a})),v(this,\"bond\",(function(t,n,r){var o=e.getAtomId(t),i=e.getAtomId(n);return e.s.b[\"\".concat(o,\"-\").concat(i)]=p({type:\"c\",count:1},r),e.s.b[\"\".concat(i,\"-\").concat(o)]=null,e})),v(this,\"modifyBond\",(function(t,n,r){var o=e.getAtomId(t),i=e.getAtomId(n),a=e.s.b[\"\".concat(o,\"-\").concat(i)];if(\"object\"===d(a)&&a)e.s.b[\"\".concat(o,\"-\").concat(i)]=p({},e.s.b[\"\".concat(o,\"-\").concat(i)],{},r);else{if(\"object\"!==d(a)||a)throw new Error(\"Unable to modify bond, does not exist\");e.s.b[\"\".concat(i,\"-\").concat(o)]=p({},e.s.b[\"\".concat(i,\"-\").concat(o)],{},r)}return e})),v(this,\"getBond\",(function(t,n){var r=e.getAtomId(t),o=e.getAtomId(n),i=e.s.b[\"\".concat(r,\"-\").concat(o)];return\"object\"===d(i)&&i?i:\"object\"!==d(i)||i?null:e.s.b[\"\".concat(o,\"-\").concat(r)]})),v(this,\"pack\",(function(){return JSON.stringify({v:1,s:e.s})})),v(this,\"unpack\",(function(t){try{var n=JSON.parse(t);if(n.v>1)throw new Error(\"Upgrade mcul to use newer package schema\");e.s=n.s}catch(t){throw new Error(\"Unable to parse packed data\")}return e})),v(this,\"chainCarbons\",(function(t,n){if(n||(n=1),n<1&&n>3||3===n&&t>2)throw new Error(\"Chain must have a possible number of bonds\");for(var r=e.createAtoms(\"C\",t),o=1;o<t;o++)e.bond(r[o-1],r[o],{count:n});return r})),v(this,\"hydrogenateCarbon\",(function(t){for(var n=e.getBondCount(t);n<4;n++){var r=e.createAtom(\"H\");e.bond(t,r)}return e})),v(this,\"hydrogenateCarbons\",(function(){var t=e.getAtomsByElement(\"C\");for(var n in t)for(var r=e.getBondCount(t[n]);r<4;r++){var o=e.createAtom(\"H\");e.bond(t[n],o)}return e})),v(this,\"clone\",(function(){var n=new t;return n.s=JSON.parse(JSON.stringify(e.s)),n})),this.s={a:{},b:{},i:0},this.type=\"molecule\",this.add=b.bind(this)}var e,n,i;return e=t,(n=[{key:\"mass\",get:function(){var t=0;for(var e in this.s.a)t+=r[this.s.a[e].el-1]||0;return Math.round(1e3*t)/1e3}},{key:\"atomCounts\",get:function(){var t={},e={};for(var n in this.s.a)t[this.s.a[n].el]=t[this.s.a[n].el]||0,t[this.s.a[n].el]++;for(var r in t)e[o[Number(r)-1]]=t[r];return{symbol:e,atomic:t}}},{key:\"moleFraction\",get:function(){var t={},e={},n=0;for(var r in this.s.a)t[this.s.a[r].el]=t[this.s.a[r].el]||0,t[this.s.a[r].el]++,n++;for(var i in t)t[i]/=n,t[i]=Math.round(1e4*t[i])/1e4,e[o[Number(i)-1]]=t[i];return{symbol:e,atomic:t}}},{key:\"massFraction\",get:function(){var t={},e={},n=0;for(var i in this.s.a)t[this.s.a[i].el]=t[this.s.a[i].el]||0,t[this.s.a[i].el]+=r[this.s.a[i].el-1],n+=r[this.s.a[i].el-1];for(var a in t)t[a]/=n,t[a]=Math.round(1e4*t[a])/1e4,e[o[Number(a)-1]]=t[a];return{symbol:e,atomic:t}}}])&&g(e.prototype,n),i&&g(e,i),t}()}]);"],"mappings":"AAAA","sourceRoot":""}